<html>
<head>
	<meta charset="UTF-8"> 
	<title>NIMH ML: Docs</title>
	<link rel="stylesheet" href="css/screen.css">
	<link rel="stylesheet" href="css/mobile.css">
	<link rel="stylesheet" href="css/print.css">
	<script src="css/menu.js"></script>
</head>
<body onload="scrollToHash()" onresize="menuResizeFunction()">

<nav id="top-menu">
	<div class="page-margin">
		<ul class="title-area">
			<li><a href="index.html" class="site-title">NIMH MonkeyLogic</a></li>
			<div onclick="menuFunction()" class="menu-icon"><div class="menu-icon-bar"></div><div class="menu-icon-bar"></div><div class="menu-icon-bar"></div></div>
		</ul>
		<ul class="menu-area">
			<li><a href="about.html">About</a></li>
			<li><a href="download.html">Download</a></li>
			<li><a href="docs.html">Docs</a></li>
			<li><a href="https://monkeylogic.nimh.nih.gov/board/">Support</a></li>
		</ul>
	</div>
</nav>

<nav2 id="nav-bar">
	<div class="page-margin">
		<div class="link-area">
			<b><<</b> <a href="docs_MainMenu.html">Main Menu</a> &nbsp;&nbsp;&nbsp;
			<b>>></b> <a href="docs_TCPIPEyeTracker.html">Main Menu, TCP/IP Eye Tracker</a> &nbsp;&nbsp;&nbsp;
			<b>^</b> <a href="javascript:scroll(0,0);">Top</a>
		</div>
	</div>
</nav2>

<section>
	<div class="one-column">
		<div>
			<h1>Audio Engine</h1>
			
			<p>NIMH ML supports two audio application programming interfaces (APIs), XAudio2 and Windows Audio Session API (WASAPI). WASAPI can run in two different modes (shared and exclusive), so there are three options altogether.</p>

			<p>In terms of latency, XAudio2 is the longest, WASAPI in the shared mode (WASAPI Shared) is shorter and WASAPI in the exclusive mode (WASAPI Exclusive) is the shortest. As for the stability of audio playback, however, XAudio2 is most stable, regardless of the quality of driver software. WASAPI Shared is next and WASAPI Exclusive is the worst, because some sound cards do not even support WASAPI Exclusive. In WASAPI Exclusive, the number of sounds that can be simultaneously played is limited to one, due to its exclusive access to the audio endpoint (e.g., speakers). Choose the API wisely, considering the purpose of audio playback.</p>
			
			<h2 class="line-spacing1">Change the playback device for XAudio2</h2>

			<p>XAudio2 always uses the default playback device of the system. Click the play icon to test the device currently in use. To change the default device, open the sound control panel by clicking <b>[...]</b>. Then choose a playback device that you want to make a default device on the panel with a right-mouse-click and select <b>[Set as Default Device]</b> in the resulting menu, as shown below.</p>
			<p><img src="images\docs_audioengine_xaudio2.png"></p>
			<p>To reflect the change of the default device on the menu, click the reload icon right next to the playback button.
			
			<h2 class="line-spacing1">Change the playback device for WASAPI</h2>
			<p>
				<img src="images\docs_audioengine_wasapi.png">
			</p>
			
			<p>For WASAPI, you can switch between devices on the menu. WASAPI Exclusive needs to set the output format additionally. Use the playback button to test the selected device and format.</p>
			
			<h2 class="line-spacing1">Support for the minumum buffer size in WASAPI Shared</h2>
			
			<p>In Windows 10, WASAPI Shared can play sounds with latencies as short as those of WASAPI Exclusive. To use this feature, users need to install a driver that supports small buffers.</p>
			
			<ol>
				<li>Start Device Manager. Under <b>Sound, video and game controllers</b>, right-click on the device that you chose and select <b>Update driver</b>.<br>
					<img src="images\docs_audioengine_device_manager.png">
				</li><br>
				
				<li>Select <b>Browse my computer for drivers</b> and then <b>Let me pick from a list of available drivers on my computer</b>.<br>
					<img src="images\docs_audioengine_update_drivers1.png" border="1"><br><br>
					<img src="images\docs_audioengine_update_drivers2.png" border="1">
				</li><br>
				
				<li>Select <b>High Definition Audio Device</b> and click [Next]. Click [Yes], if a warning pops up. Rebooting may be required.<br>
					<img src="images\docs_audioengine_update_drivers3.png" border="1"><br><br>
					<img src="images\docs_audioengine_update_driver_warning.png">
				</li><br>
			</ol>
		</div>
	</div>
</section>

<div id="footerNIMH">
	<p>The National Institute of Mental Health (NIMH) is part of the National Institutes of Health (NIH), a component of the U.S. Department of Health and Human Services.</p>
	<ul class="logoLinks">
		<li><a href="https://www.nih.gov/icd/od/foia/">FOIA</a></li>
		<li><a href="https://www.nimh.nih.gov/"><img src="images/nimh_logo.png"></a></li>
		<li><a href="https://www.nih.gov/"><img src="images/nih_logo.png"></a></li>
		<li><a href="https://www.hhs.gov/"><img src="images/hhs_logo.png"></a></li>
		<li><a href="https://www.usa.gov/"><img src="images/usagov_logo.png"></a></li>
	</ul>
</div>

</body>
</html>
